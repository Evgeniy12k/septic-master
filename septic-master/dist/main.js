(()=>{"use strict";const e=document.createElement("div");e.style.cssText="color: green";const t=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});(()=>{const e=document.querySelector(".popup-call");document.querySelectorAll(".call-btn").forEach((t=>{t.addEventListener("click",(()=>{if(e.style.opacity="0"){let t=0;const l=setInterval((()=>{t+=.1,e.style.opacity=`${t}`,"1"===e.style.opacity&&clearInterval(l)}),40);e.style.display="block"}else e.style.display="block",e.style.opacity="1"}))}));const t=document.getElementById("name_1"),l=document.getElementById("phone_1");e.addEventListener("click",(n=>{let o=n.target;if(o.classList.contains("popup-close","popup-call popup"))if(e.style.opacity="1"){let n=1;const o=setInterval((()=>{n-=.1,e.style.opacity=`${n}`,"-0.1"===e.style.opacity&&(t.value="",l.value="",e.style.display="none",clearInterval(o))}),40)}else e.style.display="none";else o=o.closest(".popup-content"),o||(e.style.display="none",t.value="",l.value="")})),document.querySelector(".consultation-btn")})(),(()=>{const e=document.querySelector(".add-sentence-btn");[...document.querySelectorAll(".sentence >.container >.text-center > .row >.col-md-4")].forEach((t=>{e.addEventListener("click",(()=>{t.classList.remove("hidden"),t.classList.remove("visible-sm-block"),e.style.display="none"}))}))})(),(()=>{const l=document.querySelectorAll("form"),n=document.querySelectorAll("input");for(let o=0;o<l.length;o++)l[o].addEventListener("submit",(c=>{c.preventDefault(),l[o].appendChild(e),e.textContent="Загрузка.";const s=new FormData(l[o]);let a={};s.forEach(((e,t)=>{a[t]=e})),t(a).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! мы скоро с вами свяжемся!",setTimeout((()=>{e.textContent="",document.querySelectorAll(".popup").forEach((e=>e.style.display=" none "))}),3e3),n.forEach((e=>{e.value=""}))})).catch((t=>{e.textContent="Что-то пошло  не так.."}))}));document.addEventListener("input",(e=>{let t=e.target;t.matches(".phone-user")&&(t.value.length>15&&""!=t.value.length&&t.value.length>15&&""!=t.value.length&&(alert("введите правильный номер"),t.value=""),t.value=t.value.replace(/[^+0-9]/gi,""))})),document.addEventListener("input",(e=>{let t=e.target;t.matches('input[name$="user_name"]')&&(t.value.length>20&&""!=t.value.length&&(alert("слишком много"),t.value=""),t.value=t.value.replace(/[^-?!,.а-яё ]/iu,""))}))})(),jsl((function(){function e(){jsl('[name="onoffswitch"]').prop("checked")?jsl(".two-well").css("display","inline-block"):jsl(".two-well").css("display","none")}function t(){let e=jsl("#accordion form").formToObject();e.onoffswitch||(delete e["two-count"],delete e["two-diameter"]);let t=0;t=e.onoffswitch?1e4:15e3,2==e["one-diameter"]&&(t+=.2*t),e.onoffswitch?(2==e["one-count"]&&(t+=3e3),3==e["one-count"]&&(t+=5e3),2==e["two-count"]&&(t+=1e3),3==e["two-count"]&&(t+=2e3)):(2==e["one-count"]&&(t+=3e3),3==e["one-count"]&&(t+=5e3)),e["onoffswitch-two"]&&(e["two-count"]?t+=.1*t:t+=.2*t),jsl('[name="result"]').val(t)}jsl("select").on("change",(function(){t()})),jsl('[name="onoffswitch"]').on("change",(function(){e(),t()})),jsl('[name="onoffswitch-two"]').on("change",(function(){t()})),e(),jsl(".panel-heading").on("click",(function(e){return jsl(".panel-collapse.collapse").forEach((function(e){e.classList.remove("in")})),e.target.closest(".panel").children[1].classList.add("in"),t(),e.preventDefault(),!1})),jsl('[data-parent="#accordion"]').on("click",(function(e){return jsl(".panel-collapse.collapse").forEach((function(e){e.classList.remove("in")})),jsl(e.currentTarget.hash).addClass("in"),t(),e.preventDefault(),!1})),jsl("#accordion form").on("submit",(function(e){var l=jsl("#accordion form").formToObject();return l.onoffswitch||(delete l["two-count"],delete l["two-diameter"]),jsl.ajax({url:e.target.action,type:"POST",headers:{"Content-Type":"application/json"},4:function(){t()}},l),e.preventDefault(),!1})),t()})),(()=>{let e=document.querySelector(".popup-consultation");document.querySelector(".consultation-btn").addEventListener("click",(()=>{if("0"===e.style.opacity){let t=0;const l=setInterval((()=>{t+=.1,e.style.opacity=`${t}`,"1"===e.style.opacity&&clearInterval(l)}),40);e.style.display="block"}else e.style.display="block",e.style.opacity="1"}));const t=document.getElementById("name_13"),l=document.getElementById("phone_13");e.addEventListener("click",(n=>{let o=n.target;if(o.classList.contains("popup-close","popup-consultation popup"))if(e.style.opacity="1"){let n=1;const o=setInterval((()=>{n-=.1,e.style.opacity=`${n}`,"-0.1"===e.style.opacity&&(t.value="",l.value="",e.style.display="none",clearInterval(o))}),40)}else e.style.display="none";else o=o.closest(".popup-content"),o||(e.style.display="none",t.value="",l.value="")}))})(),(()=>{let e=document.querySelectorAll(".discount-btn"),t=document.querySelector(".popup-discount");e.forEach((e=>{e.addEventListener("click",(()=>{if(t.style.opacity="0"){let e=0;const l=setInterval((()=>{e+=.1,t.style.opacity=`${e}`,"1"===t.style.opacity&&clearInterval(l)}),40);t.style.display="block"}else t.style.display="block",t.style.opacity="1"}))}));const l=document.getElementById("name_1"),n=document.getElementById("phone_1");t.addEventListener("click",(e=>{let o=e.target;if(o.classList.contains("popup-close","popup-call popup"))if(t.style.opacity="1"){let e=1;const o=setInterval((()=>{e-=.1,t.style.opacity=`${e}`,"-0.1"===t.style.opacity&&(l.value="",n.value="",t.style.display="none",clearInterval(o))}),40)}else t.style.display="none";else o=o.closest(".popup-content"),o||(t.style.display="none",l.value="",n.value="")}))})(),(()=>{let e=document.querySelector(".check-btn"),t=document.querySelector(".popup-check");e.addEventListener("click",(()=>{if("0"===t.style.opacity){let e=0;const l=setInterval((()=>{e+=.1,t.style.opacity=`${e}`,"1"===t.style.opacity&&clearInterval(l)}),40);t.style.display="block"}else t.style.display="block",t.style.opacity="1"})),document.getElementById("name_12"),document.getElementById("phone_12"),t.addEventListener("click",(e=>{let l=e.target;if(l.classList.contains("popup-close","popup-call popup"))if("1"===t.style.opacity){let e=1;const l=setInterval((()=>{e-=.1,t.style.opacity=`${e}`,"-0.1"===t.style.opacity&&(formName.value="",formPhone.value="",t.style.display="none",clearInterval(l))}),40)}else t.style.display="none";else l=l.closest(".popup-content"),l||(t.style.display="none",formName.value="",formPhone.value="")}))})()})();